"use strict";(globalThis.webpackChunkmimic_docs=globalThis.webpackChunkmimic_docs||[]).push([[629],{541:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>l,contentTitle:()=>s,default:()=>m,frontMatter:()=>o,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"api/server-network","title":"ServerNetworkAPI","description":"ServerNetworkAPI provides access to server networking functions, connection management, and server component information.","source":"@site/docs/api/server-network.md","sourceDirName":"api","slug":"/api/server-network","permalink":"/docs/api/server-network","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"LootAPI","permalink":"/docs/api/loot"},"next":{"title":"ReflectionHelper","permalink":"/docs/api/reflection"}}');var i=r(4848),a=r(8453);const o={},s="ServerNetworkAPI",l={},c=[{value:"ServerSocket Methods",id:"serversocket-methods",level:2},{value:"GetServerSocket()",id:"getserversocket",level:3},{value:"IsServerRunning()",id:"isserverrunning",level:3},{value:"Connection Management Methods",id:"connection-management-methods",level:2},{value:"GetMaximumClients()",id:"getmaximumclients",level:3},{value:"SetMaximumClients()",id:"setmaximumclients",level:3},{value:"GetCurrentClientCount()",id:"getcurrentclientcount",level:3},{value:"GetAllConnectedPlayers()",id:"getallconnectedplayers",level:3},{value:"Waiting Room Methods",id:"waiting-room-methods",level:2},{value:"GetWaitingRoom()",id:"getwaitingroom",level:3},{value:"GetWaitingRoomMemberCount()",id:"getwaitingroommembercount",level:3},{value:"GetWaitingRoomMaxPlayers()",id:"getwaitingroommaxplayers",level:3},{value:"CanPlayerEnterWaitingRoom()",id:"canplayerenterwaitingroom",level:3},{value:"Maintenance Room Methods",id:"maintenance-room-methods",level:2},{value:"GetMaintenanceRoom()",id:"getmaintenanceroom",level:3},{value:"GetMaintenanceRoomMemberCount()",id:"getmaintenanceroommembercount",level:3},{value:"GetMaintenanceRoomMaxPlayers()",id:"getmaintenanceroommaxplayers",level:3},{value:"GetRoomMemberCount()",id:"getroommembercount",level:3},{value:"Reflection Methods (Advanced)",id:"reflection-methods-advanced",level:2},{value:"GetMaximumClientsField()",id:"getmaximumclientsfield",level:3},{value:"GetAllServerSocketMethods()",id:"getallserversocketmethods",level:3},{value:"GetVRoomManagerMethod()",id:"getvroommanagermethod",level:3},{value:"GetRoomMethod()",id:"getroommethod",level:3},{value:"Practical Examples",id:"practical-examples",level:2},{value:"Server Monitor",id:"server-monitor",level:3},{value:"Automatic Server Slot Expansion",id:"automatic-server-slot-expansion",level:3},{value:"Server Information Panel",id:"server-information-panel",level:3},{value:"Notes",id:"notes",level:2},{value:"Use Cases",id:"use-cases",level:2},{value:"See Also",id:"see-also",level:2}];function d(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"servernetworkapi",children:"ServerNetworkAPI"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"ServerNetworkAPI"})," provides access to server networking functions, connection management, and server component information."]}),"\n",(0,i.jsx)(n.admonition,{title:"Warning",type:"warning",children:(0,i.jsx)(n.p,{children:"This API is intended for server-side logic and may only work on the game host. Using some methods on clients may result in errors."})}),"\n",(0,i.jsx)(n.h2,{id:"serversocket-methods",children:"ServerSocket Methods"}),"\n",(0,i.jsx)(n.h3,{id:"getserversocket",children:"GetServerSocket()"}),"\n",(0,i.jsx)(n.p,{children:"Gets the server socket instance."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-csharp",children:"public static object? GetServerSocket()\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Example:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-csharp",children:'var serverSocket = ServerNetworkAPI.GetServerSocket();\nif (serverSocket != null)\n{\n    MelonLogger.Msg("Server is active");\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"isserverrunning",children:"IsServerRunning()"}),"\n",(0,i.jsx)(n.p,{children:"Checks if the server is running."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-csharp",children:"public static bool IsServerRunning()\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Example:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-csharp",children:'if (ServerNetworkAPI.IsServerRunning())\n{\n    MelonLogger.Msg("Server is running");\n}\nelse\n{\n    MelonLogger.Warning("Server is not running");\n}\n'})}),"\n",(0,i.jsx)(n.h2,{id:"connection-management-methods",children:"Connection Management Methods"}),"\n",(0,i.jsx)(n.h3,{id:"getmaximumclients",children:"GetMaximumClients()"}),"\n",(0,i.jsx)(n.p,{children:"Gets the maximum number of clients."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-csharp",children:"public static int GetMaximumClients()\n"})}),"\n",(0,i.jsx)(n.h3,{id:"setmaximumclients",children:"SetMaximumClients()"}),"\n",(0,i.jsx)(n.p,{children:"Sets the maximum number of clients."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-csharp",children:"public static void SetMaximumClients(object serverSocket, int value)\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Example:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-csharp",children:'var serverSocket = ServerNetworkAPI.GetServerSocket();\nif (serverSocket != null)\n{\n    ServerNetworkAPI.SetMaximumClients(serverSocket, 16);\n    MelonLogger.Msg("Client limit increased to 16");\n}\n'})}),"\n",(0,i.jsx)(n.admonition,{title:"Caution",type:"danger",children:(0,i.jsx)(n.p,{children:"Changing the client limit can seriously affect server performance and game balance. Use with caution."})}),"\n",(0,i.jsx)(n.h3,{id:"getcurrentclientcount",children:"GetCurrentClientCount()"}),"\n",(0,i.jsx)(n.p,{children:"Gets the current number of connected clients."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-csharp",children:"public static int GetCurrentClientCount()\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getallconnectedplayers",children:"GetAllConnectedPlayers()"}),"\n",(0,i.jsx)(n.p,{children:"Gets a list of all connected players."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-csharp",children:"public static List<object> GetAllConnectedPlayers()\n"})}),"\n",(0,i.jsx)(n.h2,{id:"waiting-room-methods",children:"Waiting Room Methods"}),"\n",(0,i.jsx)(n.h3,{id:"getwaitingroom",children:"GetWaitingRoom()"}),"\n",(0,i.jsx)(n.p,{children:"Gets the waiting room."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-csharp",children:"public static object? GetWaitingRoom()\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getwaitingroommembercount",children:"GetWaitingRoomMemberCount()"}),"\n",(0,i.jsx)(n.p,{children:"Gets the number of players in the waiting room."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-csharp",children:"public static int GetWaitingRoomMemberCount()\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getwaitingroommaxplayers",children:"GetWaitingRoomMaxPlayers()"}),"\n",(0,i.jsx)(n.p,{children:"Gets the maximum number of players in the waiting room."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-csharp",children:"public static int GetWaitingRoomMaxPlayers()\n"})}),"\n",(0,i.jsx)(n.h3,{id:"canplayerenterwaitingroom",children:"CanPlayerEnterWaitingRoom()"}),"\n",(0,i.jsx)(n.p,{children:"Checks if a player can enter the waiting room."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-csharp",children:"public static bool CanPlayerEnterWaitingRoom(long playerUID)\n"})}),"\n",(0,i.jsx)(n.h2,{id:"maintenance-room-methods",children:"Maintenance Room Methods"}),"\n",(0,i.jsx)(n.h3,{id:"getmaintenanceroom",children:"GetMaintenanceRoom()"}),"\n",(0,i.jsx)(n.p,{children:"Gets the maintenance room."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-csharp",children:"public static object? GetMaintenanceRoom()\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getmaintenanceroommembercount",children:"GetMaintenanceRoomMemberCount()"}),"\n",(0,i.jsx)(n.p,{children:"Gets the number of players in the maintenance room."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-csharp",children:"public static int GetMaintenanceRoomMemberCount()\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getmaintenanceroommaxplayers",children:"GetMaintenanceRoomMaxPlayers()"}),"\n",(0,i.jsx)(n.p,{children:"Gets the maximum number of players in the maintenance room."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-csharp",children:"public static int GetMaintenanceRoomMaxPlayers()\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getroommembercount",children:"GetRoomMemberCount()"}),"\n",(0,i.jsx)(n.p,{children:"Gets the number of members in a specified room."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-csharp",children:"public static int GetRoomMemberCount(object room)\n"})}),"\n",(0,i.jsx)(n.h2,{id:"reflection-methods-advanced",children:"Reflection Methods (Advanced)"}),"\n",(0,i.jsx)(n.h3,{id:"getmaximumclientsfield",children:"GetMaximumClientsField()"}),"\n",(0,i.jsx)(n.p,{children:"Gets FieldInfo for the maximum clients field."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-csharp",children:"public static FieldInfo? GetMaximumClientsField()\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getallserversocketmethods",children:"GetAllServerSocketMethods()"}),"\n",(0,i.jsx)(n.p,{children:"Gets all ServerSocket methods."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-csharp",children:"public static IEnumerable<MethodBase> GetAllServerSocketMethods()\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getvroommanagermethod",children:"GetVRoomManagerMethod()"}),"\n",(0,i.jsx)(n.p,{children:"Gets a VRoomManager method by name."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-csharp",children:"public static MethodInfo? GetVRoomManagerMethod(string methodName)\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getroommethod",children:"GetRoomMethod()"}),"\n",(0,i.jsx)(n.p,{children:"Gets a room method by type and name."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-csharp",children:"public static MethodInfo? GetRoomMethod(string roomTypeName, string methodName)\n"})}),"\n",(0,i.jsx)(n.h2,{id:"practical-examples",children:"Practical Examples"}),"\n",(0,i.jsx)(n.h3,{id:"server-monitor",children:"Server Monitor"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-csharp",children:'class ServerMonitor\n{\n    private float updateInterval = 5f;\n    private float lastUpdate = 0f;\n\n    public void Update()\n    {\n        if (Time.time - lastUpdate < updateInterval) return;\n        lastUpdate = Time.time;\n\n        if (!ServerNetworkAPI.IsServerRunning())\n        {\n            MelonLogger.Msg("Server not running");\n            return;\n        }\n\n        int currentClients = ServerNetworkAPI.GetCurrentClientCount();\n        int maxClients = ServerNetworkAPI.GetMaximumClients();\n        int waitingRoomPlayers = ServerNetworkAPI.GetWaitingRoomMemberCount();\n        \n        MelonLogger.Msg("=== Server Status ===");\n        MelonLogger.Msg($"Clients: {currentClients}/{maxClients}");\n        MelonLogger.Msg($"In lobby: {waitingRoomPlayers}");\n    }\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"automatic-server-slot-expansion",children:"Automatic Server Slot Expansion"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-csharp",children:'void AutoExpandServerSlots()\n{\n    if (!ServerNetworkAPI.IsServerRunning()) return;\n\n    int current = ServerNetworkAPI.GetCurrentClientCount();\n    int max = ServerNetworkAPI.GetMaximumClients();\n\n    // If more than 80% full\n    float fillPercentage = (float)current / max * 100f;\n    if (fillPercentage > 80f)\n    {\n        var serverSocket = ServerNetworkAPI.GetServerSocket();\n        if (serverSocket != null)\n        {\n            int newMax = max + 4;\n            ServerNetworkAPI.SetMaximumClients(serverSocket, newMax);\n            MelonLogger.Msg($"Slots expanded: {max} -> {newMax}");\n        }\n    }\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"server-information-panel",children:"Server Information Panel"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-csharp",children:'void OnGUI()\n{\n    if (!ServerNetworkAPI.IsServerRunning()) return;\n\n    GUILayout.BeginArea(new Rect(10, 10, 300, 200));\n    GUILayout.Label("=== Server Information ===");\n    \n    int current = ServerNetworkAPI.GetCurrentClientCount();\n    int max = ServerNetworkAPI.GetMaximumClients();\n    int waiting = ServerNetworkAPI.GetWaitingRoomMemberCount();\n    int waitingMax = ServerNetworkAPI.GetWaitingRoomMaxPlayers();\n    \n    GUILayout.Label($"Players: {current}/{max}");\n    GUILayout.Label($"In lobby: {waiting}/{waitingMax}");\n    \n    float fillPercentage = (float)current / max * 100f;\n    GUILayout.Label($"Fill: {fillPercentage:F1}%");\n    \n    GUILayout.EndArea();\n}\n'})}),"\n",(0,i.jsx)(n.h2,{id:"notes",children:"Notes"}),"\n",(0,i.jsx)(n.admonition,{title:"Important",type:"warning",children:(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Many methods only work on the host/server"}),"\n",(0,i.jsx)(n.li,{children:"Changing the maximum client count can affect performance"}),"\n",(0,i.jsxs)(n.li,{children:["Always check ",(0,i.jsx)(n.code,{children:"IsServerRunning()"})," before using other methods"]}),"\n"]})}),"\n",(0,i.jsx)(n.admonition,{title:"Security",type:"danger",children:(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Don't give clients access to methods that change server settings"}),"\n",(0,i.jsx)(n.li,{children:"Use access permission checks before changing critical parameters"}),"\n",(0,i.jsx)(n.li,{children:"Log all server setting changes"}),"\n"]})}),"\n",(0,i.jsx)(n.admonition,{title:"Tips",type:"tip",children:(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Use ServerNetworkAPI to create admin panels"}),"\n",(0,i.jsx)(n.li,{children:"Monitor server status regularly"}),"\n",(0,i.jsx)(n.li,{children:"Cache results for performance optimization"}),"\n"]})}),"\n",(0,i.jsx)(n.h2,{id:"use-cases",children:"Use Cases"}),"\n",(0,i.jsx)(n.p,{children:"ServerNetworkAPI is useful for:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Creating admin panels"}),"\n",(0,i.jsx)(n.li,{children:"Server status monitoring"}),"\n",(0,i.jsx)(n.li,{children:"Automatic slot management"}),"\n",(0,i.jsx)(n.li,{children:"Connection queue systems"}),"\n",(0,i.jsx)(n.li,{children:"Server statistics"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"see-also",children:"See Also"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/docs/api/room",children:"RoomAPI"})," - Room management"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/docs/api/manager",children:"ManagerAPI"})," - Manager access"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/docs/api/reflection",children:"ReflectionHelper"})," - Reflection helper methods"]}),"\n"]})]})}function m(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>o,x:()=>s});var t=r(6540);const i={},a=t.createContext(i);function o(e){const n=t.useContext(a);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),t.createElement(a.Provider,{value:n},e.children)}}}]);