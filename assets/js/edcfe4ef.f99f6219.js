"use strict";(globalThis.webpackChunkmimic_docs=globalThis.webpackChunkmimic_docs||[]).push([[913],{689:(e,l,a)=>{a.r(l),a.d(l,{assets:()=>c,contentTitle:()=>i,default:()=>h,frontMatter:()=>s,metadata:()=>n,toc:()=>o});const n=JSON.parse('{"id":"api/player","title":"PlayerAPI","description":"PlayerAPI provides convenient methods for working with players: searching, getting information, and managing state.","source":"@site/docs/api/player.md","sourceDirName":"api","slug":"/api/player","permalink":"/docs/api/player","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"CoreAPI","permalink":"/docs/api/core"},"next":{"title":"ActorAPI","permalink":"/docs/api/actor"}}');var r=a(4848),t=a(8453);const s={},i="PlayerAPI",c={},o=[{value:"Player Retrieval Methods",id:"player-retrieval-methods",level:2},{value:"GetLocalPlayer()",id:"getlocalplayer",level:3},{value:"GetAllPlayers()",id:"getallplayers",level:3},{value:"GetOtherPlayers()",id:"getotherplayers",level:3},{value:"GetPlayerByName()",id:"getplayerbyname",level:3},{value:"GetPlayerByID()",id:"getplayerbyid",level:3},{value:"State Check Methods",id:"state-check-methods",level:2},{value:"IsPlayerValid()",id:"isplayervalid",level:3},{value:"HasLocalPlayer()",id:"haslocalplayer",level:3},{value:"IsPlayerAlive()",id:"isplayeralive",level:3},{value:"IsLocalPlayerAlive()",id:"islocalplayeralive",level:3},{value:"Component Methods",id:"component-methods",level:2},{value:"GetStatManager()",id:"getstatmanager",level:3},{value:"GetMovementController()",id:"getmovementcontroller",level:3},{value:"GetInventory()",id:"getinventory",level:3},{value:"GetInventoryItems()",id:"getinventoryitems",level:3},{value:"Position Methods",id:"position-methods",level:2},{value:"GetPlayerPosition()",id:"getplayerposition",level:3},{value:"GetDistanceBetweenPlayers()",id:"getdistancebetweenplayers",level:3},{value:"Range Search Methods",id:"range-search-methods",level:2},{value:"GetPlayersInRange()",id:"getplayersinrange",level:3},{value:"GetAlivePlayersInRange()",id:"getaliveplayersinrange",level:3},{value:"GetNearestPlayer()",id:"getnearestplayer",level:3},{value:"GetNearestAlivePlayer()",id:"getnearestaliveplayer",level:3},{value:"Additional Methods",id:"additional-methods",level:2},{value:"GetPlayerName()",id:"getplayername",level:3},{value:"Practical Examples",id:"practical-examples",level:2},{value:"Display Information About All Players",id:"display-information-about-all-players",level:3},{value:"Find Nearest Enemy",id:"find-nearest-enemy",level:3},{value:"Nearby Players Notification System",id:"nearby-players-notification-system",level:3},{value:"Notes",id:"notes",level:2},{value:"See Also",id:"see-also",level:2}];function d(e){const l={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.header,{children:(0,r.jsx)(l.h1,{id:"playerapi",children:"PlayerAPI"})}),"\n",(0,r.jsxs)(l.p,{children:[(0,r.jsx)(l.strong,{children:"PlayerAPI"})," provides convenient methods for working with players: searching, getting information, and managing state."]}),"\n",(0,r.jsx)(l.h2,{id:"player-retrieval-methods",children:"Player Retrieval Methods"}),"\n",(0,r.jsx)(l.h3,{id:"getlocalplayer",children:"GetLocalPlayer()"}),"\n",(0,r.jsx)(l.p,{children:"Gets the local player (player on the current client)."}),"\n",(0,r.jsx)(l.pre,{children:(0,r.jsx)(l.code,{className:"language-csharp",children:"public static ProtoActor? GetLocalPlayer()\n"})}),"\n",(0,r.jsxs)(l.p,{children:[(0,r.jsx)(l.strong,{children:"Returns:"})," ",(0,r.jsx)(l.code,{children:"ProtoActor?"})," - Local player or ",(0,r.jsx)(l.code,{children:"null"})]}),"\n",(0,r.jsx)(l.p,{children:(0,r.jsx)(l.strong,{children:"Example:"})}),"\n",(0,r.jsx)(l.pre,{children:(0,r.jsx)(l.code,{className:"language-csharp",children:'var player = PlayerAPI.GetLocalPlayer();\nif (player != null)\n{\n    MelonLogger.Msg($"Local player: {player.gameObject.name}");\n}\n'})}),"\n",(0,r.jsx)(l.h3,{id:"getallplayers",children:"GetAllPlayers()"}),"\n",(0,r.jsx)(l.p,{children:"Gets all players in the game."}),"\n",(0,r.jsx)(l.pre,{children:(0,r.jsx)(l.code,{className:"language-csharp",children:"public static ProtoActor[]? GetAllPlayers()\n"})}),"\n",(0,r.jsxs)(l.p,{children:[(0,r.jsx)(l.strong,{children:"Returns:"})," ",(0,r.jsx)(l.code,{children:"ProtoActor[]?"})," - Array of all players"]}),"\n",(0,r.jsx)(l.h3,{id:"getotherplayers",children:"GetOtherPlayers()"}),"\n",(0,r.jsx)(l.p,{children:"Gets all players except the local player."}),"\n",(0,r.jsx)(l.pre,{children:(0,r.jsx)(l.code,{className:"language-csharp",children:"public static ProtoActor[]? GetOtherPlayers()\n"})}),"\n",(0,r.jsx)(l.h3,{id:"getplayerbyname",children:"GetPlayerByName()"}),"\n",(0,r.jsx)(l.p,{children:"Search for a player by name (case-insensitive)."}),"\n",(0,r.jsx)(l.pre,{children:(0,r.jsx)(l.code,{className:"language-csharp",children:"public static ProtoActor? GetPlayerByName(string name)\n"})}),"\n",(0,r.jsx)(l.h3,{id:"getplayerbyid",children:"GetPlayerByID()"}),"\n",(0,r.jsx)(l.p,{children:"Gets a player by Actor ID."}),"\n",(0,r.jsx)(l.pre,{children:(0,r.jsx)(l.code,{className:"language-csharp",children:"public static ProtoActor? GetPlayerByID(uint actorID)\n"})}),"\n",(0,r.jsx)(l.h2,{id:"state-check-methods",children:"State Check Methods"}),"\n",(0,r.jsx)(l.h3,{id:"isplayervalid",children:"IsPlayerValid()"}),"\n",(0,r.jsx)(l.p,{children:"Checks if a player is valid (not null and active)."}),"\n",(0,r.jsx)(l.pre,{children:(0,r.jsx)(l.code,{className:"language-csharp",children:"public static bool IsPlayerValid(ProtoActor? actor)\n"})}),"\n",(0,r.jsx)(l.h3,{id:"haslocalplayer",children:"HasLocalPlayer()"}),"\n",(0,r.jsx)(l.p,{children:"Checks if the local player exists."}),"\n",(0,r.jsx)(l.pre,{children:(0,r.jsx)(l.code,{className:"language-csharp",children:"public static bool HasLocalPlayer()\n"})}),"\n",(0,r.jsx)(l.h3,{id:"isplayeralive",children:"IsPlayerAlive()"}),"\n",(0,r.jsx)(l.p,{children:"Checks if a player is alive."}),"\n",(0,r.jsx)(l.pre,{children:(0,r.jsx)(l.code,{className:"language-csharp",children:"public static bool IsPlayerAlive(ProtoActor? actor)\n"})}),"\n",(0,r.jsx)(l.h3,{id:"islocalplayeralive",children:"IsLocalPlayerAlive()"}),"\n",(0,r.jsx)(l.p,{children:"Checks if the local player is alive."}),"\n",(0,r.jsx)(l.pre,{children:(0,r.jsx)(l.code,{className:"language-csharp",children:"public static bool IsLocalPlayerAlive()\n"})}),"\n",(0,r.jsx)(l.h2,{id:"component-methods",children:"Component Methods"}),"\n",(0,r.jsx)(l.h3,{id:"getstatmanager",children:"GetStatManager()"}),"\n",(0,r.jsx)(l.p,{children:"Gets the StatManager for a player."}),"\n",(0,r.jsx)(l.pre,{children:(0,r.jsx)(l.code,{className:"language-csharp",children:"public static StatManager? GetStatManager(ProtoActor? actor)\npublic static StatManager? GetLocalStatManager()\n"})}),"\n",(0,r.jsx)(l.h3,{id:"getmovementcontroller",children:"GetMovementController()"}),"\n",(0,r.jsx)(l.p,{children:"Gets the player's movement controller."}),"\n",(0,r.jsx)(l.pre,{children:(0,r.jsx)(l.code,{className:"language-csharp",children:"public static MovementController? GetMovementController(ProtoActor? actor)\npublic static MovementController? GetLocalMovementController()\n"})}),"\n",(0,r.jsx)(l.h3,{id:"getinventory",children:"GetInventory()"}),"\n",(0,r.jsx)(l.p,{children:"Gets the player's inventory."}),"\n",(0,r.jsx)(l.pre,{children:(0,r.jsx)(l.code,{className:"language-csharp",children:"public static object? GetInventory(ProtoActor? actor)\npublic static object? GetLocalInventory()\n"})}),"\n",(0,r.jsx)(l.h3,{id:"getinventoryitems",children:"GetInventoryItems()"}),"\n",(0,r.jsx)(l.p,{children:"Gets the list of items in the player's inventory."}),"\n",(0,r.jsx)(l.pre,{children:(0,r.jsx)(l.code,{className:"language-csharp",children:"public static List<InventoryItem> GetInventoryItems(ProtoActor? actor)\n"})}),"\n",(0,r.jsx)(l.h2,{id:"position-methods",children:"Position Methods"}),"\n",(0,r.jsx)(l.h3,{id:"getplayerposition",children:"GetPlayerPosition()"}),"\n",(0,r.jsx)(l.p,{children:"Gets a player's position."}),"\n",(0,r.jsx)(l.pre,{children:(0,r.jsx)(l.code,{className:"language-csharp",children:"public static Vector3 GetPlayerPosition(ProtoActor? actor)\npublic static Vector3 GetLocalPlayerPosition()\n"})}),"\n",(0,r.jsx)(l.h3,{id:"getdistancebetweenplayers",children:"GetDistanceBetweenPlayers()"}),"\n",(0,r.jsx)(l.p,{children:"Calculates the distance between two players."}),"\n",(0,r.jsx)(l.pre,{children:(0,r.jsx)(l.code,{className:"language-csharp",children:"public static float GetDistanceBetweenPlayers(ProtoActor? actor1, ProtoActor? actor2)\n"})}),"\n",(0,r.jsx)(l.h2,{id:"range-search-methods",children:"Range Search Methods"}),"\n",(0,r.jsx)(l.h3,{id:"getplayersinrange",children:"GetPlayersInRange()"}),"\n",(0,r.jsx)(l.p,{children:"Gets all players within a specified radius."}),"\n",(0,r.jsx)(l.pre,{children:(0,r.jsx)(l.code,{className:"language-csharp",children:"public static List<ProtoActor> GetPlayersInRange(float range, Vector3? center = null)\n"})}),"\n",(0,r.jsx)(l.p,{children:(0,r.jsx)(l.strong,{children:"Example:"})}),"\n",(0,r.jsx)(l.pre,{children:(0,r.jsx)(l.code,{className:"language-csharp",children:'// Find all players within 10 meters\nvar nearbyPlayers = PlayerAPI.GetPlayersInRange(10f);\nMelonLogger.Msg($"Players nearby: {nearbyPlayers.Count}");\n'})}),"\n",(0,r.jsx)(l.h3,{id:"getaliveplayersinrange",children:"GetAlivePlayersInRange()"}),"\n",(0,r.jsx)(l.p,{children:"Gets all alive players within a specified radius."}),"\n",(0,r.jsx)(l.pre,{children:(0,r.jsx)(l.code,{className:"language-csharp",children:"public static List<ProtoActor> GetAlivePlayersInRange(float range, Vector3? center = null)\n"})}),"\n",(0,r.jsx)(l.h3,{id:"getnearestplayer",children:"GetNearestPlayer()"}),"\n",(0,r.jsx)(l.p,{children:"Finds the nearest player."}),"\n",(0,r.jsx)(l.pre,{children:(0,r.jsx)(l.code,{className:"language-csharp",children:"public static ProtoActor? GetNearestPlayer(Vector3? center = null)\n"})}),"\n",(0,r.jsx)(l.h3,{id:"getnearestaliveplayer",children:"GetNearestAlivePlayer()"}),"\n",(0,r.jsx)(l.p,{children:"Finds the nearest alive player."}),"\n",(0,r.jsx)(l.pre,{children:(0,r.jsx)(l.code,{className:"language-csharp",children:"public static ProtoActor? GetNearestAlivePlayer(Vector3? center = null)\n"})}),"\n",(0,r.jsx)(l.h2,{id:"additional-methods",children:"Additional Methods"}),"\n",(0,r.jsx)(l.h3,{id:"getplayername",children:"GetPlayerName()"}),"\n",(0,r.jsx)(l.p,{children:"Gets a player's name."}),"\n",(0,r.jsx)(l.pre,{children:(0,r.jsx)(l.code,{className:"language-csharp",children:"public static string GetPlayerName(ProtoActor? actor)\n"})}),"\n",(0,r.jsx)(l.h2,{id:"practical-examples",children:"Practical Examples"}),"\n",(0,r.jsx)(l.h3,{id:"display-information-about-all-players",children:"Display Information About All Players"}),"\n",(0,r.jsx)(l.pre,{children:(0,r.jsx)(l.code,{className:"language-csharp",children:'void DisplayAllPlayersInfo()\n{\n    var players = PlayerAPI.GetAllPlayers();\n    if (players == null) return;\n\n    MelonLogger.Msg($"=== Total Players: {players.Length} ===");\n    \n    foreach (var player in players)\n    {\n        string name = PlayerAPI.GetPlayerName(player);\n        Vector3 pos = PlayerAPI.GetPlayerPosition(player);\n        bool isAlive = PlayerAPI.IsPlayerAlive(player);\n        bool isLocal = player.AmIAvatar();\n        \n        MelonLogger.Msg($"{name} - Position: {pos}, Alive: {isAlive}, Local: {isLocal}");\n    }\n}\n'})}),"\n",(0,r.jsx)(l.h3,{id:"find-nearest-enemy",children:"Find Nearest Enemy"}),"\n",(0,r.jsx)(l.pre,{children:(0,r.jsx)(l.code,{className:"language-csharp",children:"ProtoActor? FindNearestEnemy()\n{\n    var localPlayer = PlayerAPI.GetLocalPlayer();\n    if (localPlayer == null) return null;\n\n    var otherPlayers = PlayerAPI.GetOtherPlayers();\n    if (otherPlayers == null || otherPlayers.Length == 0) return null;\n\n    ProtoActor? nearest = null;\n    float minDistance = float.MaxValue;\n\n    foreach (var player in otherPlayers)\n    {\n        if (!PlayerAPI.IsPlayerAlive(player)) continue;\n\n        float distance = PlayerAPI.GetDistanceBetweenPlayers(localPlayer, player);\n        if (distance < minDistance)\n        {\n            minDistance = distance;\n            nearest = player;\n        }\n    }\n\n    return nearest;\n}\n"})}),"\n",(0,r.jsx)(l.h3,{id:"nearby-players-notification-system",children:"Nearby Players Notification System"}),"\n",(0,r.jsx)(l.pre,{children:(0,r.jsx)(l.code,{className:"language-csharp",children:'float checkRadius = 15f;\nfloat checkInterval = 2f;\nfloat lastCheckTime = 0f;\n\npublic override void OnUpdate()\n{\n    if (Time.time - lastCheckTime < checkInterval) return;\n    lastCheckTime = Time.time;\n\n    var nearbyPlayers = PlayerAPI.GetAlivePlayersInRange(checkRadius);\n    \n    // Exclude local player\n    nearbyPlayers.RemoveAll(p => p.AmIAvatar());\n    \n    if (nearbyPlayers.Count > 0)\n    {\n        MelonLogger.Warning($"ATTENTION! {nearbyPlayers.Count} players nearby!");\n        foreach (var player in nearbyPlayers)\n        {\n            string name = PlayerAPI.GetPlayerName(player);\n            float distance = Vector3.Distance(\n                PlayerAPI.GetLocalPlayerPosition(),\n                PlayerAPI.GetPlayerPosition(player)\n            );\n            MelonLogger.Msg($"- {name} at {distance:F1}m");\n        }\n    }\n}\n'})}),"\n",(0,r.jsx)(l.h2,{id:"notes",children:"Notes"}),"\n",(0,r.jsx)(l.admonition,{title:"Important",type:"warning",children:(0,r.jsxs)(l.ul,{children:["\n",(0,r.jsxs)(l.li,{children:["Many methods return ",(0,r.jsx)(l.code,{children:"null"}),". Always check the result."]}),"\n",(0,r.jsxs)(l.li,{children:[(0,r.jsx)(l.code,{children:"GetAllPlayers()"})," returns all actors, including possibly dead players."]}),"\n",(0,r.jsxs)(l.li,{children:["Use ",(0,r.jsx)(l.code,{children:"IsPlayerAlive()"})," to check life status."]}),"\n"]})}),"\n",(0,r.jsx)(l.admonition,{title:"Tips",type:"tip",children:(0,r.jsxs)(l.ul,{children:["\n",(0,r.jsxs)(l.li,{children:["Use ",(0,r.jsx)(l.code,{children:"HasLocalPlayer()"})," before calling other methods for safety"]}),"\n",(0,r.jsx)(l.li,{children:"Cache frequently used values for performance"}),"\n",(0,r.jsx)(l.li,{children:"Range search methods can be expensive, use them wisely"}),"\n"]})}),"\n",(0,r.jsx)(l.h2,{id:"see-also",children:"See Also"}),"\n",(0,r.jsxs)(l.ul,{children:["\n",(0,r.jsxs)(l.li,{children:[(0,r.jsx)(l.a,{href:"/docs/api/actor",children:"ActorAPI"})," - Working with actors in rooms"]}),"\n",(0,r.jsxs)(l.li,{children:[(0,r.jsx)(l.a,{href:"/docs/api/room",children:"RoomAPI"})," - Room management"]}),"\n",(0,r.jsxs)(l.li,{children:[(0,r.jsx)(l.a,{href:"/docs/api/loot",children:"LootAPI"})," - Loot search"]}),"\n"]})]})}function h(e={}){const{wrapper:l}={...(0,t.R)(),...e.components};return l?(0,r.jsx)(l,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453:(e,l,a)=>{a.d(l,{R:()=>s,x:()=>i});var n=a(6540);const r={},t=n.createContext(r);function s(e){const l=n.useContext(t);return n.useMemo(function(){return"function"==typeof e?e(l):{...l,...e}},[l,e])}function i(e){let l;return l=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),n.createElement(t.Provider,{value:l},e.children)}}}]);