"use strict";(globalThis.webpackChunkmimic_docs=globalThis.webpackChunkmimic_docs||[]).push([[938],{5582:(e,o,r)=>{r.r(o),r.d(o,{assets:()=>i,contentTitle:()=>a,default:()=>d,frontMatter:()=>t,metadata:()=>l,toc:()=>m});const l=JSON.parse('{"id":"api/room","title":"RoomAPI","description":"RoomAPI provides methods for working with game rooms: getting rooms, room information, players and actors in rooms.","source":"@site/docs/api/room.md","sourceDirName":"api","slug":"/api/room","permalink":"/MimicAPI/docs/api/room","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"ActorAPI","permalink":"/MimicAPI/docs/api/actor"},"next":{"title":"ManagerAPI","permalink":"/MimicAPI/docs/api/manager"}}');var s=r(4848),n=r(8453);const t={},a="RoomAPI",i={},m=[{value:"Room Retrieval Methods",id:"room-retrieval-methods",level:2},{value:"GetRoom()",id:"getroom",level:3},{value:"GetCurrentRoom()",id:"getcurrentroom",level:3},{value:"GetAllRooms()",id:"getallrooms",level:3},{value:"GetAllPlayableRooms()",id:"getallplayablerooms",level:3},{value:"GetAllRoomsOfType&lt;T&gt;()",id:"getallroomsoftypet",level:3},{value:"Information Methods",id:"information-methods",level:2},{value:"GetRoomID()",id:"getroomid",level:3},{value:"GetRoomMasterID()",id:"getroommasterid",level:3},{value:"GetRoomName()",id:"getroomname",level:3},{value:"IsRoomPlayable()",id:"isroomplayable",level:3},{value:"RoomExists()",id:"roomexists",level:3},{value:"Game Progress Methods",id:"game-progress-methods",level:2},{value:"GetCurrentGameDay()",id:"getcurrentgameday",level:3},{value:"GetCurrentSessionCycle()",id:"getcurrentsessioncycle",level:3},{value:"Players and Actors Methods",id:"players-and-actors-methods",level:2},{value:"GetRoomPlayers()",id:"getroomplayers",level:3},{value:"GetRoomActors()",id:"getroomactors",level:3},{value:"Level Objects Methods",id:"level-objects-methods",level:2},{value:"GetRoomLevelObjects()",id:"getroomlevelobjects",level:3},{value:"Room Settings Methods",id:"room-settings-methods",level:2},{value:"GetRoomMaxPlayers()",id:"getroommaxplayers",level:3},{value:"SetRoomMaxPlayers()",id:"setroommaxplayers",level:3},{value:"ID List Methods",id:"id-list-methods",level:2},{value:"GetAllRoomIDs()",id:"getallroomids",level:3},{value:"Practical Examples",id:"practical-examples",level:2},{value:"Display Full Room Information",id:"display-full-room-information",level:3},{value:"Monitor All Active Rooms",id:"monitor-all-active-rooms",level:3},{value:"Notes",id:"notes",level:2},{value:"See Also",id:"see-also",level:2}];function c(e){const o={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,n.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.header,{children:(0,s.jsx)(o.h1,{id:"roomapi",children:"RoomAPI"})}),"\n",(0,s.jsxs)(o.p,{children:[(0,s.jsx)(o.strong,{children:"RoomAPI"})," provides methods for working with game rooms: getting rooms, room information, players and actors in rooms."]}),"\n",(0,s.jsx)(o.h2,{id:"room-retrieval-methods",children:"Room Retrieval Methods"}),"\n",(0,s.jsx)(o.h3,{id:"getroom",children:"GetRoom()"}),"\n",(0,s.jsx)(o.p,{children:"Gets a room by ID."}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-csharp",children:"public static IVroom? GetRoom(long roomID)\n"})}),"\n",(0,s.jsx)(o.h3,{id:"getcurrentroom",children:"GetCurrentRoom()"}),"\n",(0,s.jsx)(o.p,{children:"Gets the current active player room."}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-csharp",children:"public static IVroom? GetCurrentRoom()\n"})}),"\n",(0,s.jsx)(o.p,{children:(0,s.jsx)(o.strong,{children:"Example:"})}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-csharp",children:'var room = RoomAPI.GetCurrentRoom();\nif (room != null)\n{\n    MelonLogger.Msg($"Current room: {RoomAPI.GetRoomName(room)}");\n}\n'})}),"\n",(0,s.jsx)(o.h3,{id:"getallrooms",children:"GetAllRooms()"}),"\n",(0,s.jsx)(o.p,{children:"Gets all existing rooms."}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-csharp",children:"public static IVroom[] GetAllRooms()\n"})}),"\n",(0,s.jsx)(o.h3,{id:"getallplayablerooms",children:"GetAllPlayableRooms()"}),"\n",(0,s.jsx)(o.p,{children:"Gets all active (playable) rooms."}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-csharp",children:"public static List<IVroom> GetAllPlayableRooms()\n"})}),"\n",(0,s.jsx)(o.h3,{id:"getallroomsoftypet",children:"GetAllRoomsOfType<T>()"}),"\n",(0,s.jsx)(o.p,{children:"Gets all rooms of a specific type."}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-csharp",children:"public static IVroom[] GetAllRoomsOfType<T>() where T : IVroom\n"})}),"\n",(0,s.jsx)(o.h2,{id:"information-methods",children:"Information Methods"}),"\n",(0,s.jsx)(o.h3,{id:"getroomid",children:"GetRoomID()"}),"\n",(0,s.jsx)(o.p,{children:"Gets the room ID."}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-csharp",children:"public static long GetRoomID(IVroom? room)\n"})}),"\n",(0,s.jsx)(o.h3,{id:"getroommasterid",children:"GetRoomMasterID()"}),"\n",(0,s.jsx)(o.p,{children:"Gets the room master (host) ID."}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-csharp",children:"public static int GetRoomMasterID(IVroom? room)\n"})}),"\n",(0,s.jsx)(o.h3,{id:"getroomname",children:"GetRoomName()"}),"\n",(0,s.jsx)(o.p,{children:"Gets the room name (type)."}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-csharp",children:"public static string GetRoomName(IVroom? room)\n"})}),"\n",(0,s.jsx)(o.h3,{id:"isroomplayable",children:"IsRoomPlayable()"}),"\n",(0,s.jsx)(o.p,{children:"Checks if a room is playable (active)."}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-csharp",children:"public static bool IsRoomPlayable(IVroom? room)\n"})}),"\n",(0,s.jsx)(o.h3,{id:"roomexists",children:"RoomExists()"}),"\n",(0,s.jsx)(o.p,{children:"Checks room existence by ID."}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-csharp",children:"public static bool RoomExists(long roomID)\n"})}),"\n",(0,s.jsx)(o.h2,{id:"game-progress-methods",children:"Game Progress Methods"}),"\n",(0,s.jsx)(o.h3,{id:"getcurrentgameday",children:"GetCurrentGameDay()"}),"\n",(0,s.jsx)(o.p,{children:"Gets the current game day in the room."}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-csharp",children:"public static int GetCurrentGameDay(IVroom? room)\n"})}),"\n",(0,s.jsx)(o.h3,{id:"getcurrentsessioncycle",children:"GetCurrentSessionCycle()"}),"\n",(0,s.jsx)(o.p,{children:"Gets the current session cycle."}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-csharp",children:"public static int GetCurrentSessionCycle(IVroom? room)\n"})}),"\n",(0,s.jsx)(o.h2,{id:"players-and-actors-methods",children:"Players and Actors Methods"}),"\n",(0,s.jsx)(o.h3,{id:"getroomplayers",children:"GetRoomPlayers()"}),"\n",(0,s.jsx)(o.p,{children:"Gets all players (VPlayer) in the room."}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-csharp",children:"public static List<VPlayer> GetRoomPlayers(IVroom? room)\n"})}),"\n",(0,s.jsx)(o.h3,{id:"getroomactors",children:"GetRoomActors()"}),"\n",(0,s.jsx)(o.p,{children:"Gets all actors (VActor) in the room."}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-csharp",children:"public static List<VActor> GetRoomActors(IVroom? room)\n"})}),"\n",(0,s.jsx)(o.h2,{id:"level-objects-methods",children:"Level Objects Methods"}),"\n",(0,s.jsx)(o.h3,{id:"getroomlevelobjects",children:"GetRoomLevelObjects()"}),"\n",(0,s.jsx)(o.p,{children:"Gets all level objects in the room."}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-csharp",children:"public static Dictionary<int, ILevelObjectInfo>? GetRoomLevelObjects(IVroom? room)\n"})}),"\n",(0,s.jsx)(o.h2,{id:"room-settings-methods",children:"Room Settings Methods"}),"\n",(0,s.jsx)(o.h3,{id:"getroommaxplayers",children:"GetRoomMaxPlayers()"}),"\n",(0,s.jsx)(o.p,{children:"Gets the maximum number of players in the room."}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-csharp",children:"public static int GetRoomMaxPlayers(IVroom? room)\npublic static int GetRoomMaxPlayers(object? room)\n"})}),"\n",(0,s.jsx)(o.h3,{id:"setroommaxplayers",children:"SetRoomMaxPlayers()"}),"\n",(0,s.jsx)(o.p,{children:"Sets the maximum number of players in the room."}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-csharp",children:"public static void SetRoomMaxPlayers(IVroom? room, int maxPlayers)\npublic static void SetRoomMaxPlayers(object? room, int maxPlayers)\n"})}),"\n",(0,s.jsx)(o.admonition,{title:"Caution",type:"warning",children:(0,s.jsx)(o.p,{children:"Changing the maximum number of players can affect game balance and server logic. Use with caution."})}),"\n",(0,s.jsx)(o.h2,{id:"id-list-methods",children:"ID List Methods"}),"\n",(0,s.jsx)(o.h3,{id:"getallroomids",children:"GetAllRoomIDs()"}),"\n",(0,s.jsx)(o.p,{children:"Gets the list of IDs of all existing rooms."}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-csharp",children:"public static List<long> GetAllRoomIDs()\n"})}),"\n",(0,s.jsx)(o.h2,{id:"practical-examples",children:"Practical Examples"}),"\n",(0,s.jsx)(o.h3,{id:"display-full-room-information",children:"Display Full Room Information"}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-csharp",children:'void DisplayCurrentRoomInfo()\n{\n    var room = RoomAPI.GetCurrentRoom();\n    if (room == null)\n    {\n        MelonLogger.Warning("Not in a room");\n        return;\n    }\n\n    MelonLogger.Msg("=== Room Information ===");\n    MelonLogger.Msg($"Type: {RoomAPI.GetRoomName(room)}");\n    MelonLogger.Msg($"ID: {RoomAPI.GetRoomID(room)}");\n    MelonLogger.Msg($"Master: {RoomAPI.GetRoomMasterID(room)}");\n    MelonLogger.Msg($"Players: {RoomAPI.GetRoomPlayers(room).Count} / {RoomAPI.GetRoomMaxPlayers(room)}");\n    MelonLogger.Msg($"Actors: {RoomAPI.GetRoomActors(room).Count}");\n    MelonLogger.Msg($"Game day: {RoomAPI.GetCurrentGameDay(room)}");\n    MelonLogger.Msg($"Session cycle: {RoomAPI.GetCurrentSessionCycle(room)}");\n    MelonLogger.Msg($"Playable: {RoomAPI.IsRoomPlayable(room)}");\n}\n'})}),"\n",(0,s.jsx)(o.h3,{id:"monitor-all-active-rooms",children:"Monitor All Active Rooms"}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-csharp",children:'void MonitorAllRooms()\n{\n    var rooms = RoomAPI.GetAllRooms();\n    MelonLogger.Msg($"=== Room Monitoring ({rooms.Length}) ===");\n\n    foreach (var room in rooms)\n    {\n        string name = RoomAPI.GetRoomName(room);\n        long id = RoomAPI.GetRoomID(room);\n        int players = RoomAPI.GetRoomPlayers(room).Count;\n        int maxPlayers = RoomAPI.GetRoomMaxPlayers(room);\n        bool playable = RoomAPI.IsRoomPlayable(room);\n\n        string status = playable ? "ACTIVE" : "INACTIVE";\n        MelonLogger.Msg($"[{status}] {name} (ID: {id}) - {players}/{maxPlayers} players");\n    }\n}\n'})}),"\n",(0,s.jsx)(o.h2,{id:"notes",children:"Notes"}),"\n",(0,s.jsx)(o.admonition,{title:"Important",type:"warning",children:(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.code,{children:"GetCurrentRoom()"})," returns ",(0,s.jsx)(o.code,{children:"null"})," if the player is not in an active room"]}),"\n",(0,s.jsxs)(o.li,{children:["Always check return values for ",(0,s.jsx)(o.code,{children:"null"})]}),"\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.code,{children:"SetRoomMaxPlayers()"})," is a powerful method, use cautiously"]}),"\n"]})}),"\n",(0,s.jsx)(o.admonition,{title:"Tips",type:"tip",children:(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsxs)(o.li,{children:["Use ",(0,s.jsx)(o.code,{children:"IsRoomPlayable()"})," to filter active rooms"]}),"\n",(0,s.jsxs)(o.li,{children:["Cache ",(0,s.jsx)(o.code,{children:"GetCurrentRoom()"})," if using frequently in one method"]}),"\n",(0,s.jsx)(o.li,{children:"For working with players in rooms, also use ActorAPI"}),"\n"]})}),"\n",(0,s.jsx)(o.h2,{id:"see-also",children:"See Also"}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.a,{href:"/MimicAPI/docs/api/actor",children:"ActorAPI"})," - Working with actors and players in rooms"]}),"\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.a,{href:"/MimicAPI/docs/api/player",children:"PlayerAPI"})," - Working with local players"]}),"\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.a,{href:"/MimicAPI/docs/api/server-network",children:"ServerNetworkAPI"})," - Server network functions"]}),"\n"]})]})}function d(e={}){const{wrapper:o}={...(0,n.R)(),...e.components};return o?(0,s.jsx)(o,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},8453:(e,o,r)=>{r.d(o,{R:()=>t,x:()=>a});var l=r(6540);const s={},n=l.createContext(s);function t(e){const o=l.useContext(n);return l.useMemo(function(){return"function"==typeof e?e(o):{...o,...e}},[o,e])}function a(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:t(e.components),l.createElement(n.Provider,{value:o},e.children)}}}]);